# vim: ft=yaml

all:
  hosts:
    local:
      ansible_connection: local

      shell:
        command: toolbox
        args:
          - run
          - -c
          - pengutool
          - /usr/bin/fish
          - -l

      tmux:
        shell: /usr/bin/fish

      fontconfig:
        enabled: true

      desktop:
        enabled: true

      tools:
        - name: pengutool
          image: ghcr.io/tunix/pengutool
          user_hooks:
            - curl -s https://raw.githubusercontent.com/lunarvim/lunarvim/master/utils/installer/install.sh -o /tmp/install.sh
            - chmod +x /tmp/install.sh
            - /tmp/install.sh -y --install-dependencies
            - test -d $HOME/.config/lvim.old && cp $HOME/.config/lvim.old/config.lua $HOME/.config/lvim/
            - rm -rf $HOME/.config/lvim.old
        - name: scanner
          image: ghcr.io/tunix/scanner

      aliases:
        podman: podman --remote

      abbrs:
        open: xdg-open &> /dev/null
        rm: rm -i
        l: exa -lh --group-directories-first --all
        ll: exa -lh --group-directories-first
        lt: exa -lh --group-directories-first --all --tree
        lc: wc -l
        port: lsof -i

      system76:
        enabled: true

      repos:
        - name: globalprotect-openconnect
          repo: https://download.copr.fedorainfracloud.org/results/yuezk/globalprotect-openconnect/fedora-$releasever-$basearch/
          key: https://download.copr.fedorainfracloud.org/results/yuezk/globalprotect-openconnect/pubkey.gpg

      packages:
        - langpacks-tr
        - python3-psutil # necessary for modifying dconf
        - globalprotect-openconnect
        - openssl
        - moby-engine

      shell_extension_ids:
        - 615  # AppIndicator and KStatusNotifierItem Support
        - 3193 # blur my shell
        - 517  # caffeine
        - 1873 # Disable unredirect fullscreen windows
        - 1319 # GSConnect
        - 545  # hide top bar
        - 2236 # night theme switcher
        - 2182 # no annoyance v2
        - 5278 # pano
        - 1460 # vitals

      enabled_extensions:
        - appindicatorsupport@rgcjonas.gmail.com
        - blur-my-shell@aunetx
        - caffeine@patapon.info
        - unredirect@vaina.lt
        - gsconnect@andyholmes.github.io
        - hidetopbar@mathieu.bidon.ca
        - nightthemeswitcher@romainvigier.fr
        - noannoyance@daase.net
        - Vitals@CoreCoding.com

      disabled_extensions:
        - apps-menu@gnome-shell-extensions.gcampax.github.com
        - background-logo@fedorahosted.org
        - launch-new-instance@gnome-shell-extensions.gcampax.github.com
        - places-menu@gnome-shell-extensions.gcampax.github.com
        - window-list@gnome-shell-extensions.gcampax.github.com

      static_packages:
        - k9s
        - kubectl
        - kubectx
        - kubens
        - nvm
        - rust
        - zellij

      flatpak_repos:
        - name: flathub
          url: https://dl.flathub.org/repo/flathub.flatpakrepo
        - name: flathub-beta
          url: https://flathub.org/beta-repo/flathub-beta.flatpakrepo

      flatpak_packages:
        - name: app.drey.Dialect
        - name: ar.xjuan.Cambalache
        - name: com.belmoussaoui.Decoder
        - name: com.belmoussaoui.Obfuscate
        - name: com.brave.Browser
        - name: com.discordapp.Discord
        - name: com.getpostman.Postman
        - name: com.github.huluti.Curtail
        - name: com.github.tchx84.Flatseal
        - name: com.gitlab.newsflash
        - name: com.mattjakeman.ExtensionManager
        - name: com.slack.Slack
        - name: com.spotify.Client
        - name: com.usebottles.bottles
        - name: com.valvesoftware.Steam
        - name: com.valvesoftware.Steam.CompatibilityTool.Proton
        - name: com.visualstudio.code
        - name: de.haeckerfelix.Fragments
        - name: de.haeckerfelix.Shortwave
        - name: fr.handbrake.ghb
        - name: md.obsidian.Obsidian
        - name: net.lutris.Lutris
          repo: flathub-beta
        - name: org.fedoraproject.MediaWriter
        - name: org.gimp.GIMP
        - name: org.gnome.Boxes
        - name: org.gnome.Boxes.Extension.OsinfoDb
        - name: org.gnome.Builder
        - name: org.gnome.Calculator
          method: system
        - name: org.gnome.Calendar
          method: system
        - name: org.gnome.Characters
        - name: org.gnome.Cheese
        - name: org.gnome.clocks
          method: system
        - name: org.gnome.Connections
        - name: org.gnome.DejaDup
        - name: org.gnome.gitlab.YaLTeR.VideoTrimmer
        - name: org.gnome.Mahjongg
        - name: org.gnome.Mines
        - name: org.gnome.seahorse.Application
        - name: org.gnome.SoundRecorder
          method: system
        - name: org.gnome.TextEditor
          method: system
        - name: org.gnome.Todo
        - name: org.gnome.Weather
          method: system
        - name: org.libreoffice.LibreOffice
          method: system
        - name: org.mozilla.firefox
          method: system
        - name: org.remmina.Remmina
        - name: org.telegram.desktop
        - name: org.videolan.VLC
        - name: org.wezfurlong.wezterm
        - name: us.zoom.Zoom

      external_flatpak_packages:
        - name: https://downloads.1password.com/linux/flatpak/1Password.flatpakref

      flatpak_overrides:
        - name: com.brave.Browser
          params:
            - --filesystem=~/.local/share/applications
            - --filesystem=~/.local/share/icons
